<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rix">
<title>Interactive use • rix</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interactive use">
<meta property="og:description" content="rix">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rix</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/building-an-environment-for-literate-programming.html">Building an environment for literate programming</a>
    <a class="dropdown-item" href="../articles/building-reproducible-development-environments-with-rix.html">Building reproducible development environments with rix</a>
    <a class="dropdown-item" href="../articles/handling-packages-with-remote-dependencies.html">Handling packages with remote dependencies</a>
    <a class="dropdown-item" href="../articles/interactive-use.html">Interactive use</a>
    <a class="dropdown-item" href="../articles/reproducible-analytical-pipelines-with-nix.html">Reproducible Analytical Pipelines with Nix</a>
    <a class="dropdown-item" href="../articles/save-the-nix-package-versions-data.html">Save the Nix Package Versions data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Interactive use</h1>
            
      
      
      <div class="d-none name"><code>interactive-use.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rix</span><span class="op">)</span></span></code></pre></div>
<!-- WARNING - This vignette is generated by {fusen} from dev/interactive_use.Rmd: do not edit by hand -->
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette describes interactive use of environments built with
<code>{rix}</code> using a GUI editor like RStudio. I will discuss two
scenarios: one in which you already have R and RStudio installed on your
operating system using the usual installation method for your operating
system, and another in which you used Nix to install R and RStudio (or
any other IDE).</p>
</div>
<div class="section level2">
<h2 id="scenario-0-you-installed-nix-and-want-to-build-from-an-expression-using-rix">Scenario 0: you installed nix and want to build from an expression
using {rix}<a class="anchor" aria-label="anchor" href="#scenario-0-you-installed-nix-and-want-to-build-from-an-expression-using-rix"></a>
</h2>
<p>We have a little helper <code><a href="../reference/nix_build.html">rix::nix_build()</a></code> which calls
<code>nix-build</code> from R. All you need is nix installed, and the
curl command line utility or {curl}, its interface from R. Here is an
example to get the nix expression that can use to build the “latest” R
version available from nix and the development version of {rix} from
GitHub.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sl</span> <span class="at">-o</span> default.nix https://raw.githubusercontent.com/b-rodrigues/rix/master/inst/extdata/default.nix</span></code></pre></div>
<p>Then open an R session from terminal located in your project root
folder.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/nix_build.html">nix_build</a></span><span class="op">(</span>project_path <span class="op">=</span> <span class="st">"."</span>, exec_mode <span class="op">=</span> <span class="st">"non-blocking"</span><span class="op">)</span></span></code></pre></div>
<p>This will build your project and stream messages and errors back in
your R console.</p>
</div>
<div class="section level2">
<h2 id="scenario-1-you-installed-r-and-rstudio-as-usual">Scenario 1: you installed R and RStudio as usual<a class="anchor" aria-label="anchor" href="#scenario-1-you-installed-r-and-rstudio-as-usual"></a>
</h2>
<p>Let’s suppose that you are already running R and RStudio and that you
wish to start using <code>{rix}</code> to define reproducible
environments for your new projects starting today. These environments
will get built using the Nix package manager and will not only include
the required R packages for your project but also a specific version of
R, and any required system-level dependency as well. If you are used to
using RStudio, then you also need to install RStudio using Nix in these
project-specific environments. To run a project-specific version of
RStudio and R, you will first need to create a <code>default.nix</code>
file and build the environment defined therein using Nix. Once this is
done, you then need to activate the environment before running this
project-specific version of RStudio. Suppose for example that you
generated a <code>default.nix</code> file for a project called “kmeans”,
and suppose that this project is in the following path:
<code>~/Documents/kmeans</code> (on Windows it would be something like
<code>C:\Users\Billy\Documents\kmeans</code>). Navigate to that folder
using your terminal, and then run <code>nix-shell</code>. You will then
be <em>dropped into</em> a Nix shell. From there you can type
<code>rstudio</code> to run this project specific version of RStudio
with all the packages. You can then work on it as usual.</p>
<p>You can also define a shortcut to a project that will take care of
activating the environment and launching rstudio. For example, you could
define a bash alias like this:</p>
<pre><code>alias kmeans='nix-shell ~/Documents/kmeans/default.nix --run rstudio</code></pre>
<p>which would then execute RStudio in the right project by simply
typing <code>kmeans</code> in a terminal. It’s also possible to create
an executable script that you can save in your PATH:</p>
<pre><code><span><span class="co">#!/usr/bin/env nix-shell</span></span>
<span><span class="co">#!nix-shell /home/Billy/Document/kmeans/default.nix -i bash</span></span>
<span><span class="va">rstudio</span></span></code></pre>
<p>Name this script something like <code>kmeans_project</code>, make it
executable (using <code>chmod +x kmeans_project</code>), and now you can
run RStudio within this environment from anywhere.</p>
</div>
<div class="section level2">
<h2 id="scenario-2-you-install-r-and-rstudio-using-nix">Scenario 2: you install R and RStudio using Nix<a class="anchor" aria-label="anchor" href="#scenario-2-you-install-r-and-rstudio-using-nix"></a>
</h2>
<p>If you don’t have R installed you cannot use the <code>{rix}</code>
package to generate new expressions. In this case you might consider
installing Nix first, and then running the following command inside your
terminal to get dropped into a temporary Nix shell, which you can then
use to generate new <code>default.nix</code> files:</p>
<pre><code>nix-shell --expr "$(curl -sl https://raw.githubusercontent.com/b-rodrigues/rix/master/inst/extdata/default.nix)"</code></pre>
<p>Running the command above will download R and <code>{rix}</code> and
then start an R session inside your terminal. You can now run something
like this:</p>
<pre><code><span><span class="fu"><a href="../reference/rix.html">rix</a></span><span class="op">(</span>r_ver <span class="op">=</span> <span class="st">"latest"</span>,</span>
<span>    r_pkgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dplyr"</span>, <span class="st">"ggplot2"</span><span class="op">)</span>,</span>
<span>    system_pkgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    git_pkgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    ide <span class="op">=</span> <span class="st">"rstudio"</span>,</span>
<span>    project_path <span class="op">=</span> <span class="st">"."</span>, <span class="co"># change to a project's path</span></span>
<span>    overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
<p>to generate a <code>default.nix</code>, and then use that file to
generate an environment with R, Rstudio, <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> and
<a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>. If you need to add packages for your project,
rerun the command above, but add the needed packages to
<code>r_pkgs</code>.</p>
</div>
<div class="section level2">
<h2 id="other-ides">Other IDEs<a class="anchor" aria-label="anchor" href="#other-ides"></a>
</h2>
<p>Visual Studio Code and Emacs have been tested and unlike RStudio, you
can use the version of either VS Code or Emacs that you already have
installed on your system. But there’s nothing stopping you from
installing a project-specific version of VS Code or Emacs as well.
Configuration and settings should be accessible across every version
from every environment, since these are globally defined at the level of
your system.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Bruno Rodrigues, Philipp Baumann.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
